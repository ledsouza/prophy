@import "tailwindcss";

@theme {
    --color-primary: rgb(var(--primary));
    --color-secondary: rgb(var(--secondary));
    --color-tertiary: rgb(var(--tertiary));
    --color-quaternary: rgb(var(--quaternary));
    --color-danger: rgb(var(--danger));
    --color-success: rgb(var(--success));
    --color-warning: rgb(var(--warning));

    --color-bg-light: rgb(var(--bg-light));
    --color-bg-surface: rgb(var(--bg-surface));
    --color-light: rgb(var(--bg-light));
    --color-placeholder: rgb(var(--text-placeholder));
    --color-disabled: rgb(var(--text-disabled));

    --color-text-primary: rgb(var(--text-primary));
    --color-text-secondary: rgb(var(--text-secondary));
    --color-text-tertiary: rgb(var(--text-tertiary));
    --color-text-disabled: rgb(var(--text-disabled));
    --color-text-placeholder: rgb(var(--text-placeholder));

    --color-text-gray-secondary: rgb(var(--text-secondary));
    --color-gray-primary: rgb(var(--text-primary));
    --color-gray-secondary: rgb(var(--text-secondary));
    --color-gray-tertiary: rgb(var(--text-tertiary));

    --animate-danger: danger-border-flash 2s ease-out infinite;
    --animate-warning: warning-border-flash 2s ease-out infinite;
}

@keyframes danger-border-flash {
    0% {
        box-shadow: inset 0 0 0 0 rgba(var(--danger), 0);
    }

    20% {
        box-shadow: inset 0 0 0 2px rgba(var(--danger), 0.65);
    }

    100% {
        box-shadow: inset 0 0 0 2px rgba(var(--danger), 0);
    }
}

@keyframes warning-border-flash {
    0% {
        box-shadow: inset 0 0 0 0 rgba(var(--warning), 0);
    }

    20% {
        box-shadow: inset 0 0 0 2px rgba(var(--warning), 0.65);
    }

    100% {
        box-shadow: inset 0 0 0 2px rgba(var(--warning), 0);
    }
}

@layer base {
    :root {
        /* Colors */
        --primary: 28, 56, 140;
        --secondary: 44, 81, 191;
        --tertiary: 128, 157, 242;
        --quaternary: 182, 197, 242;

        --bg-light: 255, 255, 255;
        --bg-surface: 238, 241, 245;

        --text-primary: 17, 24, 39;
        --text-secondary: 92, 92, 92;
        --text-tertiary: 209, 213, 219;
        --text-disabled: 138, 138, 138;
        --text-placeholder: 156, 163, 175;

        --danger: 220, 38, 38;
        --success: 22, 163, 74;
        --warning: 161, 98, 7;
    }

    button:not(:disabled),
    a[href],
    [role="button"]:not([aria-disabled="true"]),
    input[type="button"]:not(:disabled),
    input[type="submit"]:not(:disabled) {
        cursor: pointer;
    }

    button:disabled,
    [aria-disabled="true"] {
        cursor: not-allowed;
    }
}

@layer components {
    .results-panel {
        @apply bg-white rounded-xl;
    }

    .prophy-calendar {
        /*
            FullCalendar v6 is styled mostly via CSS variables.

            Scoping these variables to the calendar root ensures our
            theme wins even though FullCalendar injects its own CSS at
            runtime.
        */

        --fc-border-color: rgba(var(--text-tertiary), 1);
        --fc-page-bg-color: rgba(var(--bg-light), 1);

        --fc-button-text-color: rgba(var(--bg-light), 1);
        --fc-button-bg-color: rgba(var(--primary), 1);
        --fc-button-border-color: rgba(var(--primary), 1);
        --fc-button-hover-bg-color: rgba(var(--secondary), 1);
        --fc-button-hover-border-color: rgba(var(--secondary), 1);
        --fc-button-active-bg-color: rgba(var(--secondary), 1);
        --fc-button-active-border-color: rgba(var(--secondary), 1);

        --fc-today-bg-color: rgba(var(--tertiary), 0.12);
    }

    .prophy-calendar .fc {
        color: rgba(var(--text-primary), 1);
    }

    .prophy-calendar .fc .fc-button,
    .prophy-calendar .fc .fc-button-primary {
        background-color: var(--fc-button-bg-color);
        border-color: var(--fc-button-border-color);
        color: var(--fc-button-text-color);
    }

    .prophy-calendar .fc .fc-button:hover,
    .prophy-calendar .fc .fc-button-primary:hover {
        background-color: var(--fc-button-hover-bg-color);
        border-color: var(--fc-button-hover-border-color);
    }

    .prophy-calendar .fc .fc-button:active,
    .prophy-calendar .fc .fc-button.fc-button-active,
    .prophy-calendar .fc .fc-button-primary:active,
    .prophy-calendar .fc .fc-button-primary.fc-button-active {
        background-color: var(--fc-button-active-bg-color);
        border-color: var(--fc-button-active-border-color);
    }

    .prophy-calendar .fc .fc-scrollgrid-section-header,
    .prophy-calendar .fc .fc-col-header-cell {
        background-color: rgb(249 250 251);
    }

    .prophy-calendar .fc .fc-toolbar-title {
        font-weight: 700;
        color: rgba(var(--text-primary), 1);
    }

    .prophy-calendar .fc .fc-button {
        border-radius: 0.5rem;
        box-shadow: none;
        font-weight: 600;
        padding: 0.4rem 0.75rem;
    }

    .prophy-calendar .fc .fc-button:focus {
        box-shadow: 0 0 0 2px rgba(var(--tertiary), 0.5);
    }

    .prophy-calendar .fc .fc-daygrid-day-number {
        color: rgba(var(--text-secondary), 1);
        text-decoration: none;
        font-weight: 600;
        padding: 0.35rem;
    }

    .prophy-calendar .fc .fc-daygrid-day.fc-day-today {
        border-radius: 0.5rem;
    }

    .prophy-calendar .fc .fc-event {
        border-radius: 0.5rem;
        border: none;
        cursor: pointer;
        padding: 0.1rem 0.25rem;
    }

    .prophy-calendar .fc .fc-event:hover {
        filter: brightness(0.98);
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.12);
    }

    .prophy-calendar .fc .fc-daygrid-event {
        align-items: center;
        overflow: hidden;
    }

    .prophy-calendar .fc .fc-event-title,
    .prophy-calendar .fc .fc-event-title-container {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .prophy-calendar .fc .fc-event-main {
        min-width: 0;
        overflow: hidden;
    }

    .prophy-calendar .fc .fc-event .fc-event-main {
        color: inherit;
    }
}
